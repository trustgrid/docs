<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>– Knowledge Base</title><link>https://docs.trustgrid.io/help-center/kb/</link><description>Recent content in Knowledge Base on</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Fri, 21 Apr 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://docs.trustgrid.io/help-center/kb/index.xml" rel="self" type="application/rss+xml"/><item><title>Help-Center: Site Requirements</title><link>https://docs.trustgrid.io/help-center/kb/site-requirements/</link><pubDate>Thu, 05 Jan 2017 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/help-center/kb/site-requirements/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>Trustgrid’s architecture consists of Nodes deployed at the Edge (on-premise) and management infrastructure built in AWS. Nodes create tunnels to other nodes for data transfer, and to the management infrastructure for control. All tunnels are TLS connections and must be permitted by any firewall between&lt;/p>
&lt;/div>
&lt;h2 id="network-requirements-for-all-nodes">Network Requirements for All Nodes&lt;/h2>
&lt;p>In order to connect to the Trustgrid Control Plane, the following outbound traffic must be allowed from the node’s configured primary interface IP address&lt;/p>
&lt;h3 id="trustgrid-control-plane">Trustgrid Control Plane&lt;/h3>
&lt;ul>
&lt;li>TCP Port 443 and TCP/UDP 8443 to:
&lt;ul>
&lt;li>35.171.100.16/28&lt;/li>
&lt;li>34.223.12.192/28&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="additional-required-network-access">Additional Required Network Access&lt;/h3>
&lt;ul>
&lt;li>TCP/UDP Port 53 to the configured DNS servers. These DNS servers must be accessible from the WAN/outside interface IP and be able to resolve DNS requests for the trustgrid.io domain&lt;/li>
&lt;/ul>
&lt;div class="alert alert-info" role="alert">
Trustgrid nodes will attempt connect to 169.254.169.254 on port 80. This is a standard instance metadata server in public clouds such as AWS and Azure. This connectivity is not required outside these providers.
&lt;/div>
&lt;h2 id="recommendations">Recommendations&lt;/h2>
&lt;p>At least 10 Mbps download speed is recommended for reasonable performance during upgrades. Actual bandwidth requirement will be specific to the workloads running across the device.&lt;/p>
&lt;p>Hardware devices are recommended to be connected to ports configured for 1000 Mbps and full duplex with auto negotiation on.&lt;/p>
&lt;h2 id="gateway-node-network-requirements">Gateway Node Network Requirements&lt;/h2>
&lt;p>In addition to being able to connect to the Control Plane resource outlined above, Gateway Nodes must be allowed to receive inbound traffic on their configured public IP and port (typically TCP/UDP port 8443). Both the advertised public IP and port are configurable when enabling a node as a gateway.&lt;/p></description></item><item><title>Help-Center: Edge Node Startup</title><link>https://docs.trustgrid.io/help-center/kb/startup-process/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/help-center/kb/startup-process/</guid><description>
&lt;h2 id="startup-process">Startup Process&lt;/h2>
&lt;ol>
&lt;li>ARP for the default gateway&lt;/li>
&lt;li>DNS request for A record for gatekeeper.trustgrid.io &amp;amp; zuul.trustgrid.io
&lt;ol>
&lt;li>The response will be IPs in the Trustgrid AWS networks, &lt;code>35.171.100.16/28&lt;/code> (us-east-1) or &lt;code>34.223.12.192/28&lt;/code> (us-west-2)&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>The node will initiate a connection to port 8443 on the IP addresses returned and start a TLS handshake.&lt;/li>
&lt;li>After a successfully TLS handshake, the node will show as connected in the Trustgrid Portal&lt;/li>
&lt;/ol></description></item><item><title>Help-Center: Node Upgrade Process</title><link>https://docs.trustgrid.io/help-center/kb/upgrade-process/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/help-center/kb/upgrade-process/</guid><description>
&lt;h2 id="update-process">Update Process&lt;/h2>
&lt;ol>
&lt;li>DNS request for A record of repo.trustgrid.io
&lt;ol>
&lt;li>The response will be IPs in the Trustgrid AWS networks, &lt;code>35.171.100.16/28&lt;/code> (us-east-1) or &lt;code>34.223.12.192/28&lt;/code> (us-west-2)&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>The node will initiate a connection to &lt;strong>port 443&lt;/strong> on the ip address returned for repo.trustgrid.io&lt;/li>
&lt;li>The update process will download any updated packages using port&lt;/li>
&lt;/ol>
&lt;h2 id="potential-issues">Potential Issues&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://docs.trustgrid.io/help-center/kb/upgrade-process/443-blocked/">Confirm connectivity on Port 443&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.trustgrid.io/help-center/kb/startup-process/ssl-tls-tampering/">Verify no DPI-SSL or HTTPS proxy&lt;/a> is interfering with the SSL certificate for repo.trustgrid.io&lt;/li>
&lt;/ul></description></item><item><title>Help-Center: Trustgrid Default Settings</title><link>https://docs.trustgrid.io/help-center/kb/default-settings/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/help-center/kb/default-settings/</guid><description/></item><item><title>Help-Center: WAN/ISP Redundancy Configurations</title><link>https://docs.trustgrid.io/help-center/kb/wan-redunancy/</link><pubDate>Fri, 21 Apr 2023 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/help-center/kb/wan-redunancy/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
The sections below provide examples of how Trustgrid nodes can be deployed to provide WAN/ISP redundancy
&lt;/div>
&lt;h2 id="behind-firewallrouter-with-multiple-isp-connections">Behind Firewall/Router with Multiple ISP Connections&lt;/h2>
&lt;p>In this configuration the Trustgrid WAN interfaces are behind a firewall or router that has two independent ISP connections to provide internet access.&lt;/p>
&lt;p>The firewall or router is responsible for either failing over outbound traffic in the event of an ISP failure, or to route different nodes to utilize specific ISP connections.&lt;/p>
&lt;p>The WAN interface of the Trustgrid node would utilize &lt;strong>private IPs&lt;/strong> in this configuration that are NAT&amp;rsquo;d to public IPs by the firewall/router.
&lt;div class="alert alert-info" role="alert">
&lt;p>This is the only configuration that:&lt;/p>
&lt;ul>
&lt;li>Supports &lt;strong>Single Node&lt;/strong> deployments&lt;/li>
&lt;li>Supports &lt;strong>Single Interface&lt;/strong> configurations&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/p>
&lt;div class="alert alert-warning" role="alert">
This configuration is &lt;strong>not recommended for nodes acting as gateways&lt;/strong>. In this configuration devices are NAT&amp;rsquo;d to a different public IP depending on which ISP is active. A gateway node can only announce a single IP or DNS address for its clients to connect to. It would be possible to announce a DNS record and some form of dynamic DNS health check to update the record if the ISP changed. But that change would have to propagate which could take some time.
&lt;/div>
&lt;h3 id="single-node-behind-firewall">Single Node Behind Firewall&lt;/h3>
&lt;p>This configuration shows a single node connected to a firewall or router that has two ISP connected to it.&lt;/p>
&lt;pre class="mermaid">graph LR
intHost[Internal Hosts]
intNet[[Internal\n Network]]
intHost &amp;lt;-.Optional.-&amp;gt; intNet &amp;lt;-.Optional.-&amp;gt; snLAN
subgraph sn [Single Node]
snWAN[WAN\nInterface]
snLAN[LAN\nInterface]
end
firewall[&amp;#34;Firewall/Router&amp;#34;]
dmzNet[[DMZ\n Network]]
firewall == Primary==&amp;gt; ISP1([ISP 1])
firewall -. Failover/Backup .-&amp;gt; ISP2([ISP 2])
snWAN --&amp;gt; dmzNet --&amp;gt; firewall
classDef tgnode fill:#346ed9,color:white
class sn tgnode&lt;/pre>
&lt;h3 id="clustered-nodes-behind-firewall">Clustered Nodes Behind Firewall&lt;/h3>
&lt;p>This configuration shows a cluster of Trustgrid nodes connected to a firewall or router that has two ISPs connected to it.&lt;/p>
&lt;pre class="mermaid">graph LR
intHost[Internal Hosts]
intNet[[Internal\n Network]]
intHost &amp;lt;-.Optional.-&amp;gt; intNet &amp;lt;-.Optional.-&amp;gt; cl1LAN &amp;amp; cl2LAN
subgraph cluster [&amp;#34; &amp;#34;]
subgraph Cluster-Node1
cl1WAN[WAN\nInterface]
cl1LAN[LAN\nInterface]
end
subgraph Cluster-Node2
cl2WAN[WAN\nInterface]
cl2LAN[LAN\nInterface]
end
end
dmzNet[[DMZ\n Network]]
firewall[&amp;#34;Firewall/Router&amp;#34;]
firewall == Primary==&amp;gt; ISP1([ISP 1])
firewall -. Failover/Backup .-&amp;gt; ISP2([ISP 2])
cl1WAN &amp;amp; cl2WAN --&amp;gt; dmzNet --&amp;gt; firewall
classDef tgnode fill:#346ed9,color:white
class Cluster-Node1,Cluster-Node2 tgnode
style cluster fill:#c8c8c8&lt;/pre>
&lt;h2 id="cluster-wan-interface-to-different-networks">Cluster WAN Interface to Different Networks&lt;/h2>
&lt;p>Another method of providing redundancy takes advantage of Trustgrid &lt;a href="https://docs.trustgrid.io/docs/clusters/">clustering&lt;/a> by connecting each member of the cluster to a different ISP on their WAN interface. This could be done by:&lt;/p>
&lt;ul>
&lt;li>Directly attaching each member WAN interface to a different ISP handoff&lt;/li>
&lt;li>Connecting each member WAN interface to different DMZ private networks configured to use different ISPs for internet access&lt;/li>
&lt;li>A combination of public and private WAN networks&lt;/li>
&lt;/ul>
&lt;p>In this configuration, the master/active member of the node will determine which ISP is being utilized. If one ISP is preferred you will need to have operational procedures in place to ensure the member node connected to it stays the master node. It is recommended that you keep the &lt;a href="https://docs.trustgrid.io/docs/clusters/#cluster-mode">cluster mode configured as Automatic Failback&lt;/a> and your organization establishes a &lt;a href="https://docs.trustgrid.io/docs/nodes/tags/">tag&lt;/a> to designate the preferred member.&lt;/p>
&lt;div class="alert alert-info" role="alert">
Because the WAN interfaces are on different networks, this configuration &lt;strong>requires at least one additional LAN interface&lt;/strong> to be configured for accessing internal resources and providing the &lt;a href="https://docs.trustgrid.io/docs/clusters/#cluster-heartbeat-communication">cluster heartbeat&lt;/a> communication
&lt;/div>
&lt;h3 id="cluster-wan-direct-connections-to-multiple-isps">Cluster WAN Direct Connections to Multiple ISPs&lt;/h3>
&lt;p>This configuration shows Cluster-Node1&amp;rsquo;s WAN interface directly connected to one ISP. And Cluster-Node2&amp;rsquo;s WAN interface is connected directly to another ISP.&lt;/p>
&lt;pre class="mermaid">graph LR
intHost[Internal Hosts]
intNet[[Internal\n Network]]
intHost &amp;lt;---&amp;gt; intNet &amp;lt;---&amp;gt; cl1LAN &amp;amp; cl2LAN
subgraph cluster [&amp;#34; &amp;#34;]
subgraph Cluster-Node1
cl1WAN[WAN\nInterface]
cl1LAN[LAN\nInterface]
end
subgraph Cluster-Node2
cl2WAN[WAN\nInterface]
cl2LAN[LAN\nInterface]
end
end
cl1WAN ==&amp;gt; ISP1([ISP 1])
cl2WAN ==&amp;gt; ISP2([ISP 2])
classDef tgnode fill:#346ed9,color:white
class Cluster-Node1,Cluster-Node2 tgnode
style cluster fill:#c8c8c8&lt;/pre>
&lt;h3 id="cluster-wan-to-separate-dmz-networks">Cluster WAN to separate DMZ networks&lt;/h3>
&lt;p>This configuration shows Cluster-Node1&amp;rsquo;s WAN interface is connected to one DMZ/private network that is behind a firewall connected to one ISP. And Cluster-Node2&amp;rsquo;s WAN interface is connected to a second DMZ network behind a separate firewall connected to a different ISP.&lt;/p>
&lt;pre class="mermaid">graph LR
intHost[Internal Hosts]
intNet[[Internal\n Network]]
intHost &amp;lt;---&amp;gt; intNet &amp;lt;---&amp;gt; cl1LAN &amp;amp; cl2LAN
subgraph cluster [&amp;#34; &amp;#34;]
subgraph Cluster-Node1
cl1WAN[WAN\nInterface]
cl1LAN[LAN\nInterface]
end
subgraph Cluster-Node2
cl2WAN[WAN\nInterface]
cl2LAN[LAN\nInterface]
end
end
dmzNet1[[DMZ\n Network 1]]
dmzNet2[[DMZ\n Network 2]]
firewall1[&amp;#34;Firewall/Router 1&amp;#34;]
firewall2[&amp;#34;Firewall/Router 2&amp;#34;]
cl1WAN --&amp;gt; dmzNet1 --&amp;gt; firewall1 ==&amp;gt; ISP1([ISP 1])
cl2WAN --&amp;gt; dmzNet2 --&amp;gt; firewall2 ==&amp;gt; ISP2([ISP 2])
classDef tgnode fill:#346ed9,color:white
class Cluster-Node1,Cluster-Node2 tgnode
style cluster fill:#c8c8c8&lt;/pre>
&lt;div class="alert alert-info" role="alert">
Note: While shown with two separate firewall/routers, this could also be accomplished with a single firewall/router configured to route each DMZ network to a different ISP.
&lt;/div>
&lt;h3 id="cluster-wan-using-mix-of-public-and-dmz-networks">Cluster WAN using mix of public and DMZ networks&lt;/h3>
&lt;p>This configuration shows Cluster-Node1&amp;rsquo;s WAN interface is connected to a private DMZ network behind a firewall that is using ISP 1. Cluster-Node2&amp;rsquo;s WAN interface is connected directly to ISP 2.&lt;/p>
&lt;pre class="mermaid">graph LR
intHost[Internal Hosts]
intNet[[Internal\n Network]]
intHost &amp;lt;---&amp;gt; intNet &amp;lt;---&amp;gt; cl1LAN &amp;amp; cl2LAN
subgraph cluster [&amp;#34; &amp;#34;]
subgraph Cluster-Node1
cl1WAN[WAN\nInterface]
cl1LAN[LAN\nInterface]
end
subgraph Cluster-Node2
cl2WAN[WAN\nInterface]
cl2LAN[LAN\nInterface]
end
end
dmzNet1[[DMZ\n Network 1]]
firewall1[&amp;#34;Firewall/Router 1&amp;#34;]
cl1WAN --&amp;gt; dmzNet1 --&amp;gt; firewall1 ==&amp;gt; ISP1([ISP 1])
cl2WAN ==&amp;gt; ISP2([ISP 2])
classDef tgnode fill:#346ed9,color:white
class Cluster-Node1,Cluster-Node2 tgnode
style cluster fill:#c8c8c8&lt;/pre></description></item></channel></rss>