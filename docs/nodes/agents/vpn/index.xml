<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>â€“ Virtual Network(VPN)</title><link>https://docs.trustgrid.io/docs/nodes/agents/vpn/</link><description>Recent content in Virtual Network(VPN) on</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://docs.trustgrid.io/docs/nodes/agents/vpn/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Agent Address Translation</title><link>https://docs.trustgrid.io/docs/nodes/agents/vpn/nat/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/nodes/agents/vpn/nat/</guid><description>
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="agent-nat.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 90%;">
&lt;/figure>
&lt;h2 id="enable-forwarding">Enable Forwarding&lt;/h2>
&lt;p>This check box determines if an agent will attempt to forward traffic to/from between the VPN tunnel interface and IP addresses and networks accessible via other interfaces on the agent.&lt;/p>
&lt;h3 id="managing-forwarding">Managing Forwarding&lt;/h3>
&lt;p>This option is deselected by default. To enable, select the check box and click Save.&lt;/p>
&lt;h2 id="network-address-translation">Network Address Translation&lt;/h2>
&lt;p>By default, all forwarded traffic retains the original IP address local to the agent. It is common to want or need to translate these addresses to avoid IP conflicts or to maintain consistent IP address spaces. The Network Address Translation table allows for mapping the local IP addresses or networks to virtual IP addresses or networks.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr id="local-cidr" style="scroll-margin-top: 10rem;">
&lt;th>Local CIDR&lt;/th>
&lt;td>The local IP address or address block that should be mapped into the virtual network. It should be entered in CIDR block format (eg - &lt;code>192.168.100.0/24&lt;/code> or &lt;code>192.168.100.51/32&lt;/code>).&lt;/td>
&lt;/tr>
&lt;tr id="virtual-cidr" style="scroll-margin-top: 10rem;">
&lt;th>Virtual CIDR&lt;/th>
&lt;td>The virtual network IP address or addresses that the local IP addresses should be mapped to, also entered in CIDR block format.&lt;/td>
&lt;/tr>
&lt;tr id="description" style="scroll-margin-top: 10rem;">
&lt;th>Description&lt;/th>
&lt;td>(optional) Allows for a user friendly description of the NAT rule.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="example-nat">Example NAT&lt;/h3>
&lt;p>Using the example shown in the screenshot above, the local IP address 172.16.55.199 is translated to 10.200.101.1 when forwarding traffic from the VPN tunnel interface to the local network.&lt;/p>
&lt;pre class="mermaid">flowchart LR
remoteNode[Remote Node&amp;lt;br&amp;gt;10.200.0.1]
originalReq[[Source IP: 100.200.0.1&amp;lt;br&amp;gt;Destination IP:10.200.101.1]]
localNode[Local Agent Node]
natReq[[Source IP: 10.200.0.1&amp;lt;br&amp;gt;Destination IP: 172.16.55.199]]
localServer[Local Server&amp;lt;br&amp;gt;172.16.55.199]
remoteNode--&amp;gt;originalReq--&amp;gt;localNode--&amp;gt;natReq--&amp;gt;localServer&lt;/pre>
&lt;p>The translation works in the other direction as well&lt;/p>
&lt;pre class="mermaid">flowchart LR
remoteNode[Remote Node&amp;lt;br&amp;gt;10.200.0.1]
originalReq[[Source IP: 172.16.55.199&amp;lt;br&amp;gt;Destination IP:10.200.0.1]]
localNode[Local Agent Node]
natReq[[Source IP: 10.200.101.1&amp;lt;br&amp;gt;Destination IP: 10.200.0.1]]
localServer[Local Server&amp;lt;br&amp;gt;172.16.55.199]
localServer--&amp;gt;originalReq--&amp;gt;localNode--&amp;gt;natReq--&amp;gt;remoteNode&lt;/pre>
&lt;h3 id="managing-nat-rules">Managing NAT Rules&lt;/h3>
&lt;h4 id="add-agent-nat-rule">Add Agent NAT Rule&lt;/h4>
&lt;ol>
&lt;li>Navigate to the desired Agent&amp;rsquo;s Address Translation page.&lt;/li>
&lt;li>Click the &amp;ldquo;Add Entry&amp;rdquo; link below the Network Address Translations table.&lt;/li>
&lt;li>Enter the Virtual CIDR and Local CIDR address ranges to map. Optionally, provide a description.&lt;/li>
&lt;li>Click the green check box to the right of the rule.&lt;/li>
&lt;li>(Optionally), repeat with additional rules.&lt;/li>
&lt;li>Click Save&lt;/li>
&lt;/ol>
&lt;h4 id="delete-agent-nat-rule">Delete Agent NAT Rule&lt;/h4>
&lt;ol>
&lt;li>Navigate to the desired Agent&amp;rsquo;s Address Translation page.&lt;/li>
&lt;li>Click the X symbol to the right of the rule you wish to remove.&lt;/li>
&lt;li>(Optionally), repeat with additional rules.&lt;/li>
&lt;li>Click Save&lt;/li>
&lt;/ol></description></item><item><title>Docs: Agent Virtual Network Static Routes</title><link>https://docs.trustgrid.io/docs/nodes/agents/vpn/static-routes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/nodes/agents/vpn/static-routes/</guid><description>
&lt;p>Agents can define static routes for their virtual network to augment or override routes defined in the global &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/routes/">virtual network route table&lt;/a>.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="agent-static-route.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 90%;">
&lt;/figure>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr id="destination" style="scroll-margin-top: 10rem;">
&lt;th>Destination&lt;/th>
&lt;td>The destination node or cluster where matching traffic will be routed.&lt;/td>
&lt;/tr>
&lt;tr id="destination-cidr" style="scroll-margin-top: 10rem;">
&lt;th>Destination CIDR&lt;/th>
&lt;td>The CIDR notation of the IP address or network traffic that this route should manage.&lt;/td>
&lt;/tr>
&lt;tr id="metric" style="scroll-margin-top: 10rem;">
&lt;th>Metric&lt;/th>
&lt;td>Value between 1 and 200. The available route with the lowest metric will be selected when a flow is created.&lt;/td>
&lt;/tr>
&lt;tr id="description" style="scroll-margin-top: 10rem;">
&lt;th>Description&lt;/th>
&lt;td>(optional) A user-friendly description for the route and its purpose.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>&lt;/p>
&lt;h2 id="manage-agent-static-vpn-routes">Manage Agent Static VPN Routes&lt;/h2>
&lt;h3 id="add-agent-static-vpn-route">Add Agent Static VPN Route&lt;/h3>
&lt;ol>
&lt;li>Navigate to the Static Routes page of the desired agent.&lt;/li>
&lt;li>Click the &lt;strong>Add Route&lt;/strong> button at the top of the table.&lt;/li>
&lt;li>Provide the Destination, Destination CIDR, Metric, and optional description for the new route.&lt;/li>
&lt;li>Optionally, repeat with additional routes.&lt;/li>
&lt;li>Click Save&lt;/li>
&lt;/ol>
&lt;h3 id="delete-agent-static-vpn-routes">Delete Agent Static VPN Routes&lt;/h3>
&lt;ol>
&lt;li>Navigate to the Static Routes page of the desired agent.&lt;/li>
&lt;li>Select the check box to the left of the route you wish to delete.&lt;/li>
&lt;li>From the Actions dropdown above the table select Delete.&lt;/li>
&lt;li>When prompted confirm you wish to delete the rule.&lt;/li>
&lt;/ol></description></item></channel></rss>