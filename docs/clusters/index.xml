<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>â€“ Clusters</title><link>https://docs.trustgrid.io/docs/clusters/</link><description>Recent content in Clusters on</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Wed, 28 Dec 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://docs.trustgrid.io/docs/clusters/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Cluster Site Health State</title><link>https://docs.trustgrid.io/docs/clusters/cluster-health/</link><pubDate>Wed, 28 Dec 2022 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/clusters/cluster-health/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>A healthy &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a> should have two online Trustgrid &lt;a href="https://docs.trustgrid.io/docs/nodes/">nodes&lt;/a> in a healthy state. The Trustgrid control plane can monitor the member &lt;a href="https://docs.trustgrid.io/docs/nodes/">nodes&lt;/a> and generate &lt;a href="https://docs.trustgrid.io/docs/alarms/events/">events&lt;/a> when their state changes such that the health of the &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a> is impacted.&lt;/p>
&lt;/div>
&lt;h3 id="basics">Basics&lt;/h3>
&lt;div class="alert alert-primary" role="alert">
&lt;p>These events are based on the information reported by each member node to the control plane. Because of this:&lt;/p>
&lt;ul>
&lt;li>There can be a delay between a change and the &lt;a href="https://docs.trustgrid.io/docs/clusters/">Cluster&lt;/a> Site Health events. Use the &lt;a href="https://docs.trustgrid.io/docs/clusters/cluster-health/#force-health-validation">Validate Health&lt;/a> action to get the most up-to-date health status.)&lt;/li>
&lt;li>If member &lt;a href="https://docs.trustgrid.io/docs/nodes/">nodes&lt;/a> have issues preventing control plane connections but not impacting data plane or other services the &lt;a href="https://docs.trustgrid.io/docs/alarms/events/">events&lt;/a> may not accurately reflect the state of the &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/div>
&lt;h3 id="cluster-health-state">Cluster Health State&lt;/h3>
&lt;p>The Trustgrid will now display one of three states in the portal:&lt;/p>
&lt;table>
&lt;tbody>
&lt;tr>
&lt;th>State&lt;/th>
&lt;th>Meaning&lt;/th>
&lt;/tr>
&lt;tr>
&lt;th>Healthy&lt;/th>
&lt;td>Both members are online with a single member active.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;th>Unhealthy&lt;/th>
&lt;td>
&lt;p>There is at least one online and healthy member of the &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a> with the active role AND one or more of these conditions is true:&lt;/p>
&lt;ul>
&lt;li>One of the &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a> members is offline, unhealthy or disabled&lt;/li>
&lt;li>There are &lt;strong>two&lt;/strong> &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a> members with the active role&lt;/li>
&lt;/ul>
&lt;/td>
&lt;/tr>
&lt;tr>
&lt;th>Offline&lt;/th>
&lt;td>
&lt;p>Both &lt;a href="https://docs.trustgrid.io/docs/nodes/">nodes&lt;/a> are offline, unhealthy or disabled.&lt;/p>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="force-health-validation">Force Health Validation&lt;/h3>
&lt;p>The cluster health state is evaluated when certain events occurs, such as a member disconnecting/reconnecting or the &lt;a href="https://docs.trustgrid.io/docs/clusters/#cluster-member-health">member health state&lt;/a> changes. Occasionally this can lead to the state being reported incorrectly or a delay before the proper state is displayed.&lt;/p>
&lt;p>If you wish to force the health state to be re-evaluated you can use the &amp;ldquo;Validate Health&amp;rdquo; command under Actions on the Cluster Overview panel.&lt;/p>
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="cluster-validate-health.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 80%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Validate Health action
&lt;/figcaption>
&lt;/figure></description></item><item><title>Docs: Manage Cluster Members</title><link>https://docs.trustgrid.io/docs/clusters/manage-members/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/clusters/manage-members/</guid><description>
&lt;h2 id="add-member">Add Member&lt;/h2>
&lt;p>This will add the selected node to the cluster and gain any configuration defined at the cluster level.&lt;/p>
&lt;ol>
&lt;li>Click Actions &amp;gt; Add Node.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="add-node.png" alt="Action &amp;gt; Add Node" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 40%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Action &amp;gt; Add Node
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>Select the desired node from the list. This is a type-ahead field that will filter the list as you type. Click Add Node.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="add-node-list.png" alt="Add node dialog with list of nodes filtered to show those matching &amp;#39;edge&amp;#39;" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 50%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Member node selection list
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>You are prompted if you want to configure cluster heartbeat settings.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="config-heart1.png" alt="Prompt to configure heartbeat settings" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 60%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Prompt to configure heartbeat settings
&lt;/figcaption>
&lt;/figure>
&lt;ol>
&lt;li>No - The node is added to the cluster and you will manually need to navigate to the &lt;a href="https://docs.trustgrid.io/docs/nodes/appliances/cluster/">node&amp;rsquo;s cluster settings&lt;/a> and configure the heartbeat before it will be healthy.&lt;/li>
&lt;li>Yes - The configuration prompt allows you to set the &lt;a href="https://docs.trustgrid.io/docs/nodes/appliances/cluster/#heartbeat">Heartbeat&lt;/a> and, optionally, the &lt;a href="https://docs.trustgrid.io/docs/nodes/appliances/cluster/#status-endpoint">Status Endpoint&lt;/a> settings.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="config-heart2.png" alt="Dialog to enter heartbeat IP and port, and status endpoint port" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 60%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Heartbeat and Status Endpoint settings
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="remove-member">Remove Member&lt;/h2>
&lt;p>Removing a node from a cluster will remove the cluster heartbeat and endpoint settings defined on the node and any cluster-level configuration.&lt;/p>
&lt;ol>
&lt;li>Select the desired node from the member table.&lt;/li>
&lt;li>Click Action &amp;gt; Remove Node.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="remove-node.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 30%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Remove Node option from Actions
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>Confirm you want to remove the node by clicking Yes.&lt;/li>
&lt;/ol></description></item></channel></rss>