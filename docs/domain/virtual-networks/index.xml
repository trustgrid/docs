<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>– Virtual Networks</title><link>https://docs.trustgrid.io/docs/domain/virtual-networks/</link><description>Recent content in Virtual Networks on</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Tue, 11 Jul 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://docs.trustgrid.io/docs/domain/virtual-networks/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Network Objects</title><link>https://docs.trustgrid.io/docs/domain/virtual-networks/network-objects/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/domain/virtual-networks/network-objects/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>A network object allows naming a CIDR inside a VPN for easier rule management.&lt;/p>
&lt;/div>
&lt;p>A network object requires the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr id="name" style="scroll-margin-top: 10rem;">
&lt;th>Name&lt;/th>
&lt;td>The label to use when referencing this object.&lt;/td>
&lt;/tr>
&lt;tr id="cidr" style="scroll-margin-top: 10rem;">
&lt;th>CIDR&lt;/th>
&lt;td>Specifically an IPv4 CIDR.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;img src="network-objects.png" alt="img">&lt;/p>
&lt;p>Multiple network objects may be clustered into a &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/network-groups/">network group&lt;/a>.&lt;/p></description></item><item><title>Docs: Network Groups</title><link>https://docs.trustgrid.io/docs/domain/virtual-networks/network-groups/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/domain/virtual-networks/network-groups/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>A network group is a list of &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/network-objects/">network objects&lt;/a> that allows for easier rule management.&lt;/p>
&lt;/div>
&lt;p>A network group requires a name to be set. This will be used to reference the group in &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/access-policy/">access policy&lt;/a> rules.&lt;/p>
&lt;p>&lt;img src="network-groups2.png" alt="img">&lt;/p>
&lt;p>Navigating into a network group allows management of the group’s member objects.&lt;/p>
&lt;p>&lt;img src="member-network-objects.png" alt="img">&lt;/p></description></item><item><title>Docs: Routes</title><link>https://docs.trustgrid.io/docs/domain/virtual-networks/routes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/domain/virtual-networks/routes/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>Routes configured under &lt;a href="https://docs.trustgrid.io/docs/domain/">Domains&lt;/a> determine to which &lt;a href="https://docs.trustgrid.io/docs/nodes/">node&lt;/a> or &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a> the &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/">Trustgrid virtual network&lt;/a> should route traffic for a specific subnet.&lt;/p>
&lt;/div>
&lt;h2 id="virtual-network-routes">Virtual Network Routes&lt;/h2>
&lt;p>Routes defined a the virtual network level allow creating a global route table shared with all nodes and clusters attached to the virtual network. This table is then used to evaluate where to send VPN traffic for a specified destination CIDR.&lt;/p>
&lt;p>&lt;img src="routes-list.png" alt="img">&lt;/p>
&lt;h3 id="route-fields">Route Fields&lt;/h3>
&lt;p>A Route has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr id="destination" style="scroll-margin-top: 10rem;">
&lt;th>Destination&lt;/th>
&lt;td>This will be the name of the &lt;a href="https://docs.trustgrid.io/docs/nodes/">node&lt;/a> or &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a> that traffic will be routed to. This list is auto-populated based on the nodes and clusters in the selected &lt;a href="https://docs.trustgrid.io/docs/domain/">domain&lt;/a>.&lt;/td>
&lt;/tr>
&lt;tr id="destination-cidr" style="scroll-margin-top: 10rem;">
&lt;th>Destination CIDR&lt;/th>
&lt;td>This is the CIDR notation of the &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/">virtual network&lt;/a> that should be routed to the above destination &lt;a href="https://docs.trustgrid.io/docs/nodes/">node&lt;/a> or &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a>.&lt;/td>
&lt;/tr>
&lt;tr id="metric" style="scroll-margin-top: 10rem;">
&lt;th>Metric&lt;/th>
&lt;td>If there are multiple routes for the same &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/">virtual network&lt;/a> the metric will determine which route will be used. The lowest number is the highest priority. See the &amp;ldquo;Automatic Failover&amp;rdquo; text below.&lt;/td>
&lt;/tr>
&lt;tr id="description" style="scroll-margin-top: 10rem;">
&lt;th>Description&lt;/th>
&lt;td>(Optional) This field can be used to provide additional information about the purpose of the route. e.g. it could label a route as a DR route indicating that in normal circumstances it would have a higher metric than a primary route.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="managing-virtual-network-routes">Managing Virtual Network Routes&lt;/h2>
&lt;h3 id="adding-virtual-network-routes">Adding Virtual Network Routes&lt;/h3>
&lt;ol>
&lt;li>Navigate to Domain &amp;gt; Virtual Networks and select the desired Virtual Network.&lt;/li>
&lt;li>The Routes table is selected by default
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="vnet-route-table.png" alt="Virtual Network named vNet1 with the Routes option selected in the navigation menu" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 40%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Virtual Network &amp;gt; Routes
&lt;/figcaption>
&lt;/figure>
&lt;div class="alert alert-info" role="alert">
Tip: Use the search field to filter the list of routes so you can see the routes you are adding. You could filter by the CIDR address or part of the destination node/cluster names. This will show any existing matching routes, and will make it easy to see the new routes you are adding.
&lt;/div>
&lt;/li>
&lt;li>Click the add route button.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="add-route-button.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 40%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Add route button
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>Provide the desired route information in the &lt;a href="#route-fields">fields&lt;/a> &lt;ol type="A">&lt;li>Select the destination cluster or node&lt;/li>&lt;li>Enter the destination network in CIDR notation. For a single IP use /32.&lt;/li>&lt;li>Enter a metric between 1 and 200.&lt;/li>&lt;li>Optionally, provide a description.&lt;/li>&lt;/ol>
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="new-route-entry.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 80%;">
&lt;/figure>
&lt;/li>
&lt;li>Repeat the above two steps for any additional routes you wish to add.&lt;/li>
&lt;li>Click the Save button.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="save-button.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 20%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Save route button
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>There should be a notification saying &amp;ldquo;Routes Updated&amp;rdquo; but you will need to &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/review-changes/">review and apply changes&lt;/a> before the changes are actually be published to nodes in your environment.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="saved-route.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 50%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Example of a saved route
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;/ol>
&lt;div class="alert alert-warning" role="alert">
As stated above, the route changes are not actually implemented until you click the Apply button the &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/review-changes/">Review Changes&lt;/a> panel.
&lt;/div>
&lt;h3 id="deleting-virtual-network-routes">Deleting Virtual Network Routes&lt;/h3>
&lt;ol>
&lt;li>Navigate to Domain &amp;gt; Virtual Networks and select the desired Virtual Network.&lt;/li>
&lt;li>The Routes table is selected by default
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="vnet-route-table.png" alt="Virtual Network named vNet1 with the Routes option selected in the navigation menu" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 40%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Virtual Network &amp;gt; Routes
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>Use the search field to filter the list of routes.
&lt;div class="alert alert-info" role="alert">
You could filter by the CIDR address or part of the destination node/cluster names. This will show any existing matching routes, and will make it easy to see the new routes so you can delete them.
&lt;/div>
&lt;/li>
&lt;li>Click the red X on the far right of the route being removed.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="delete-route.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; ">
&lt;/figure>
&lt;/li>
&lt;li>Repeat the above two steps for any additional routes you wish to add.&lt;/li>
&lt;li>Click the Save button.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="save-button.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 20%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Save route button
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>There should be a notification saying &amp;ldquo;Routes Updated&amp;rdquo; but you will need to &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/review-changes/">review and apply changes&lt;/a> before the changes are actually be published to nodes in your environment.
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="saved-route.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 50%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Example of a saved route
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;/ol>
&lt;h2 id="route-failover">Route Failover &lt;/h2>
&lt;p>Route failover allows a subnet to be routed to an alternate &lt;a href="https://docs.trustgrid.io/docs/nodes/">node&lt;/a> or &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a> in the event of a failure.  This can be automatic or performed manually.&lt;/p>
&lt;h3 id="prerequisites">Prerequisites &lt;/h3>
&lt;p>In either configuration, the &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/">virtual network&lt;/a> settings under VPN settings for the primary and backup destination &lt;a href="https://docs.trustgrid.io/docs/nodes/">nodes&lt;/a>/&lt;a href="https://docs.trustgrid.io/docs/clusters/">clusters&lt;/a> must match. Including:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Network Virtual Route&lt;/p>
&lt;p>&lt;img src="virtual-network-route.png" alt="img">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Network Group under Outside NAT Table&lt;/p>
&lt;p>&lt;img src="outside-nat-table.png" alt="img">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Virtual CIDR under Inside NAT Table&lt;/p>
&lt;p>&lt;img src="inside-nat-table.png" alt="img">&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="automatic-failover">Automatic Failover&lt;/h3>
&lt;p>To have the route failover without manual intervention you must define two routes for the same subnet (Destination CIDR) with different metrics.  The lowest numerical metric will take precedence unless the destination &lt;a href="https://docs.trustgrid.io/docs/nodes/">node&lt;/a> or &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a> is offline.&lt;/p>
&lt;p>In the below example configuration we want traffic for the 10.20.0.0/24 network to the &lt;code>edge&lt;/code> &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a> first, and failover to the &lt;code>edge-dr&lt;/code> &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a>.&lt;/p>
&lt;p>&lt;img src="automatic-failover.png" alt="img">&lt;/p>
&lt;h3 id="preventing-automated-failback-or-forcing-a-failover">Preventing Automated Failback or Forcing a Failover&lt;/h3>
&lt;p>As mentioned above if multiple routes are configured traffic will route to destination with the lowest metric number. So if the primary destination fails but then comes back online traffic will be routed back automatically.&lt;/p>
&lt;p>However, there are some circumstances where this is not desirable. For example, if the primary site is unstable you may wish to keep traffic at the backup site until the primary is stabilized. Alternately, you may wish to preemptively reroute traffic to the backup site in advance of planned maintenance at the primary site.&lt;/p>
&lt;p>To preemptively reroute traffic to the backup site, update the backup route to have a lower metric than the primary route.&lt;/p>
&lt;h3 id="manual-failover">Manual Failover&lt;/h3>
&lt;p>In some circumstances, it may be preferable for failover to only occur with manual intervention. In this situation, you will have a single route under the &lt;a href="https://docs.trustgrid.io/docs/domain/">domain&lt;/a>.  To initiate a failover you&amp;rsquo;ll need to update the destination &lt;a href="https://docs.trustgrid.io/docs/clusters/">cluster&lt;/a>/&lt;a href="https://docs.trustgrid.io/docs/nodes/">node&lt;/a>.&lt;/p>
&lt;ol>
&lt;li>Login to the Portal and select your domain.&lt;/li>
&lt;li>Click the link to the desired &lt;a href="https://docs.trustgrid.io/docs/domain/">domain&lt;/a> under the &amp;ldquo;Name&amp;rdquo; column.&lt;/li>
&lt;li>Scroll down to the &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/">&amp;ldquo;Virtual Networks&amp;rdquo;&lt;/a> section and select the &amp;ldquo;Routes&amp;rdquo; tab.&lt;/li>
&lt;li>Find the route you wish to failover.&lt;/li>
&lt;li>Update the destination device. (e.g. in the below you would switch from edge to edge-dr).
&lt;img src="update-destination.png" alt="Update Destination">&lt;/li>
&lt;li>Click save.&lt;/li>
&lt;/ol></description></item><item><title>Docs: Virtual Network Port Forwards</title><link>https://docs.trustgrid.io/docs/domain/virtual-networks/remote-port-forward/</link><pubDate>Tue, 11 Jul 2023 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/domain/virtual-networks/remote-port-forward/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
Virtual Network Port Forwards allow a virtual IP address to be associated with a &lt;a href="https://docs.trustgrid.io/docs/nodes/shared/services/">TCP Layer 4 service&lt;/a> on a remote node or cluster without the need to specify a route for that virtual IP address.
&lt;/div>
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="remote-port-forward.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 80%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Example Virtual Network Port Forward
&lt;/figcaption>
&lt;/figure>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>As noted above, a Virtual Network Port Forward (or remote port forward) associates a &lt;a href="https://docs.trustgrid.io/docs/nodes/shared/services/">service&lt;/a> defined on a node or cluster with a virtual IP address within the virtual network without needing to specifically &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/routes/">route&lt;/a> that IP to the node/cluster.&lt;/p>
&lt;p>Any node attached to the virtual network that receives VPN traffic destined for the configure IP and port will proxy the connection and send the traffic to the target node which will then send the traffic to the IP and port configured for the target service.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr id="virtual-ip-address" style="scroll-margin-top: 10rem;">
&lt;th>Virtual IP Address&lt;/th>
&lt;td>Virtual IP address assigned to the port forward.&lt;/td>
&lt;/tr>
&lt;tr id="virtual-port" style="scroll-margin-top: 10rem;">
&lt;th>Virtual Port&lt;/th>
&lt;td>TCP port on which the port forward will listen for connections.&lt;/td>
&lt;/tr>
&lt;tr id="destination-node" style="scroll-margin-top: 10rem;">
&lt;th>Destination Node&lt;/th>
&lt;td>Node or Cluster where the target &lt;strong>service&lt;/strong> is defined.&lt;/td>
&lt;/tr>
&lt;tr id="destination-service" style="scroll-margin-top: 10rem;">
&lt;th>Destination Service&lt;/th>
&lt;td>Service that traffic for the &lt;strong>virtual IP&lt;/strong> and &lt;strong>virtual port&lt;/strong> will be forwarded to. Alternately, you can specify an IP and port local to the &lt;strong>destination node&lt;/strong>.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Docs: Access Policy</title><link>https://docs.trustgrid.io/docs/domain/virtual-networks/access-policy/</link><pubDate>Wed, 28 Dec 2022 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/domain/virtual-networks/access-policy/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>An access policy is a list of rules that each allow, reject, or drop traffic at the VPN level.&lt;/p>
&lt;/div>
&lt;p>If no rules are defined, traffic will not pass through the &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/">virtual network&lt;/a>.&lt;/p>
&lt;p>&lt;strong>A rule can match traffic based on the following fields:&lt;/strong>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr id="action" style="scroll-margin-top: 10rem;">
&lt;th>Action&lt;/th>
&lt;td>Whether to ALLOW, DROP, or REJECT the traffic.&lt;/td>
&lt;/tr>
&lt;tr id="protocol" style="scroll-margin-top: 10rem;">
&lt;th>Protocol&lt;/th>
&lt;td>You can choose ANY, UDP, ICMP, or TCP.&lt;/td>
&lt;/tr>
&lt;tr id="source" style="scroll-margin-top: 10rem;">
&lt;th>Source&lt;/th>
&lt;td>The source of the traffic. You can select a &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/network-objects/">network object&lt;/a>, a &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/network-groups/">network group&lt;/a>, or provide a CIDR.&lt;/td>
&lt;/tr>
&lt;tr id="destination" style="scroll-margin-top: 10rem;">
&lt;th>Destination&lt;/th>
&lt;td>The destination of the traffic. You can select a &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/network-objects/">network object&lt;/a>, a &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/network-groups/">network group&lt;/a>, or provide a CIDR.&lt;/td>
&lt;/tr>
&lt;tr id="line-number" style="scroll-margin-top: 10rem;">
&lt;th>Line Number&lt;/th>
&lt;td>Rules are evaluated starting with the lowest numbered rule. Once a rule matches, later rules are ignored even if they might also match the traffic.&lt;/td>
&lt;/tr>
&lt;tr id="port-range" style="scroll-margin-top: 10rem;">
&lt;th>Port Range&lt;/th>
&lt;td>For TCP and UDP traffic, you can specify a port (e.g., 80) or a range (e.g., 8000-9000).&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;img src="access-policy.png" alt="img">&lt;/p>
&lt;p>&lt;strong>Note that &lt;em>all specified&lt;/em> fields must be matched for the rule to match.&lt;/strong>&lt;/p></description></item><item><title>Docs: DNS</title><link>https://docs.trustgrid.io/docs/domain/virtual-networks/dns/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/domain/virtual-networks/dns/</guid><description>
&lt;p>The DNS feature allows nodes in the virtual network to act as DNS servers for ingress VPN traffic. The node can resolve queries custom defines DNS zones and records, or forward queries to upstream DNS servers.&lt;/p>
&lt;h2 id="dns-settings">DNS Settings&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr id="enable/disable-dns" style="scroll-margin-top: 10rem;">
&lt;th>Enable/Disable DNS&lt;/th>
&lt;td>This field enables or disables the DNS feature on the virtual network.&lt;/td>
&lt;/tr>
&lt;tr id="dns-server-ip" style="scroll-margin-top: 10rem;">
&lt;th>DNS Server IP&lt;/th>
&lt;td>This is the IP address that should be used as the resolver. There is no need to create a VPN route for this IP. If the ingress node was the &lt;a href="https://docs.trustgrid.io/docs/nodes/appliances/vpn/dns/">DNS feature enabled&lt;/a> it will automatically handle responses for the query.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="vnet-dns-settings.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 60%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
DNS Settings
&lt;/figcaption>
&lt;/figure>
&lt;p>After making any changes to the DNS settings you will need to &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/review-changes/">review and apply changes&lt;/a> for the updates to take effect.&lt;/p>
&lt;h2 id="dns-zones">DNS Zones&lt;/h2>
&lt;p>Optionally you can create custom DNS zones and either:&lt;/p>
&lt;ul>
&lt;li>Configure specific DNS records to resolve to IPs/hosts on the virtual network&lt;/li>
&lt;li>Configure a node as a resolver for this zone. Requests will be forwarded to that node and resolved by its DNS servers or configured upstream servers.&lt;/li>
&lt;/ul>
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="vnet-dns-zones.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 40%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
DNS Zone Settings
&lt;/figcaption>
&lt;/figure>
&lt;h3 id="adding-a-dns-zone">Adding a DNS Zone&lt;/h3>
&lt;p>To add a custom DNS zone:&lt;/p>
&lt;ol>
&lt;li>Click the &amp;ldquo;Add Zone&amp;rdquo; button.&lt;/li>
&lt;li>Provide a name for the zone (e.g. example.com).&lt;/li>
&lt;li>Optionally, provide a description for the zone.&lt;/li>
&lt;li>&lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/review-changes/">Review and apply changes&lt;/a> to save the zone.&lt;/li>
&lt;/ol>
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="vnet-dns-add-zone.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 50%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Adding a DNS Zone
&lt;/figcaption>
&lt;/figure>
&lt;p>Once a zone has been added, you can configure either a DNS resolver or specific DNS records.&lt;/p>
&lt;div class="alert alert-warning" role="alert">
You cannot have both custom DNS records and a resolver configured for the same zone.
&lt;/div>
&lt;h3 id="configuring-a-dns-resolver">Configuring a DNS Resolver&lt;/h3>
&lt;ol>
&lt;li>Click on the zone name to enter its configuration page.&lt;/li>
&lt;li>Under &amp;ldquo;Resolver&amp;rdquo;, select a node from the dropdown.&lt;/li>
&lt;li>Click &amp;ldquo;Save&amp;rdquo; to save the resolver configuration.&lt;/li>
&lt;li>&lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/review-changes/">Review and apply changes&lt;/a> to update the DNS configuration.&lt;/li>
&lt;/ol>
&lt;h3 id="configuring-dns-records">Configuring DNS Records&lt;/h3>
&lt;p>DNS records allow mapping names to IP addresses for hosts on the virtual network. DNS records have the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr id="name" style="scroll-margin-top: 10rem;">
&lt;th>Name&lt;/th>
&lt;td>The hostname being mapped (e.g. www). The zone name will be automatically appended.&lt;/td>
&lt;/tr>
&lt;tr id="record-type" style="scroll-margin-top: 10rem;">
&lt;th>Record Type&lt;/th>
&lt;td>&lt;ul>
&lt;li>A - for records that should resolve to an IP address&lt;/li>
&lt;li>CNAME - for alias/canonical name records&lt;/li>
&lt;/ul>
&lt;/td>
&lt;/tr>
&lt;tr id="value" style="scroll-margin-top: 10rem;">
&lt;th>Value&lt;/th>
&lt;td>The IP address or hostname being mapped to for A/CNAME records respectively.&lt;/td>
&lt;/tr>
&lt;tr id="ttl" style="scroll-margin-top: 10rem;">
&lt;th>TTL&lt;/th>
&lt;td>Time To Live - how long records may be cached by other resolvers.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>To add a DNS record:&lt;/p>
&lt;ol>
&lt;li>Click on the zone name to enter its configuration page.&lt;/li>
&lt;li>Under &amp;ldquo;DNS Records&amp;rdquo;, click &amp;ldquo;Add Record&amp;rdquo;&lt;/li>
&lt;li>Provide the required fields
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="vnet-dns-add-record.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 60%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Add DNS Record prompt
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>Click save.&lt;/li>
&lt;li>(Optional) repeat to add more records to the current zone.&lt;/li>
&lt;li>&lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/review-changes/">Review and apply changes&lt;/a> to save the record(s).&lt;/li>
&lt;/ol></description></item><item><title>Docs: Virtual Network IP Pools</title><link>https://docs.trustgrid.io/docs/domain/virtual-networks/ip-pool/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/domain/virtual-networks/ip-pool/</guid><description>
&lt;p>Virtual Network IP Pools are used for automatically assigning virtual management to nodes. This is optional but makes configuration and management easier.&lt;/p>
&lt;div class="alert alert-warning" role="alert">
At this time only agent-based nodes support automatic IP assignment
&lt;/div>
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="ip-pools.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 90%;">
&lt;/figure>
&lt;h2 id="address-assignment">Address Assignment&lt;/h2>
&lt;p>Addresses are assigned sequentially from the pool by Trustgrid. When a node is attached to a virtual network with an IP pool configured, it will automatically be assigned the next available IP from the pool. When a node is detached its IP is returned to the pool for reuse. However, the released addresses are not used until all addresses in the pool have cycled through once.&lt;/p>
&lt;div class="alert alert-info" role="alert">
You will still need to create &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/routes/">domain routes&lt;/a> to point the assigned IP to the targeted node.
&lt;/div>
&lt;h2 id="adding-pools">Adding Pools&lt;/h2>
&lt;p>You can add one or more virtual pool ranges to a virtual network. It is recommended to size the initial pool to a realistic estimate of your expected nodes plus some overhead. Additional ranges can be added later if needed.&lt;/p>
&lt;ol>
&lt;li>Click the &lt;strong>Add IP Pool&lt;/strong> button.&lt;/li>
&lt;li>Provide the requested information: &lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr id="cidr" style="scroll-margin-top: 10rem;">
&lt;th>CIDR&lt;/th>
&lt;td>Provide the CIDR of the network you want to make available in the pool. For example, 10.1.1.0/24&lt;/td>
&lt;/tr>
&lt;tr id="description" style="scroll-margin-top: 10rem;">
&lt;th>Description&lt;/th>
&lt;td>(optional)Provide a user-friendly description of the pool.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>&lt;/li>
&lt;li>Click Save&lt;/li>
&lt;/ol>
&lt;script src="https://docs.trustgrid.io/js/fullscreen.js">&lt;/script>
&lt;figure class="centered-image">
&lt;img src="add-ip-pool.png" alt="" onclick="toggleImageSize(this)" style="display: block; margin-left: auto; margin-right: auto; width: 60%;">
&lt;figcaption style="text-align: center; margin-top: 0.5rem; font-weight: lighter;">
Add IP Pool
&lt;/figcaption>
&lt;/figure></description></item><item><title>Docs: Review Changes</title><link>https://docs.trustgrid.io/docs/domain/virtual-networks/review-changes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.trustgrid.io/docs/domain/virtual-networks/review-changes/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>Because changes to a domain &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/">virtual network&lt;/a> affect &lt;em>all&lt;/em> &lt;a href="https://docs.trustgrid.io/docs/nodes/">nodes&lt;/a>, &lt;a href="https://docs.trustgrid.io/docs/domain/">domain&lt;/a> configuration changes must be reviewed before applied, and are applied all at once.&lt;/p>
&lt;/div>
&lt;p>After making changes to a &lt;a href="https://docs.trustgrid.io/docs/domain/virtual-networks/">virtual network&lt;/a>, you can review outstanding changes. A list of changes will show who made each change, with a before/after table if appropriate.&lt;/p>
&lt;p>&lt;img src="outstanding-changes.png" alt="img">&lt;/p>
&lt;p>Individual changes can be rejected by clicking the delete icon at the top.&lt;/p>
&lt;p>Once changes are applied, outstanding changes will disappear from the review page, and &lt;a href="https://docs.trustgrid.io/docs/nodes/">nodes&lt;/a> will receive the configuration updates.&lt;/p></description></item></channel></rss>